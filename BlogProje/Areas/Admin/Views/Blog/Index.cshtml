@model List<Entities.DTOs.Blog.BlogListDto>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout_Admin.cshtml";
}
@section Category {
}
@if (TempData["BlogAdded"] != null)
{
    <div id="BlogAdded" class="alert alert-success">@TempData["BlogAdded"]</div>
}
@if (TempData["BlogUpdated"] != null)
{
    <div id="BlogUpdated" class="alert alert-success">@TempData["BlogUpdated"]</div>
}
@if (TempData["BlogDeleted"] != null)
{
    <div id="BlogUpdated" class="alert alert-success">@TempData["BlogDeleted"]</div>
}
<div><a class="btn btn-primary" href="/Admin/Blog/AddBlog">Add Blog</a></div>
<br />

 <div class="m-2">      
<input class="form-control" type="text" id="searchBox" placeholder="Ara..." />
</div>

<h2>Blogs</h2>
<hr />

<div id="blogList">
    @Html.Partial("_BlogList", Model)
</div>

<script>
    $(document).ready(function () {
        $("#searchBox").on("keyup", function () {
            var searchTerm = $(this).val();
            $.get("@Url.Action("Search", "Blog", new { area = "Admin" })",
                { searchTerm: searchTerm },
                function (data) {
                    $("#blogList").html(data);
                });
        });
    });

    // Sayfadaki tüm alert div'lerini seç
        document.querySelectorAll('.alert').forEach(function (alert) {
            setTimeout(function () {
                alert.classList.remove('show'); // fade-out başlat
                setTimeout(function () {
                    alert.remove(); // fade-out bitince tamamen kaldır
                }, 500);
            }, 3000); // 3 saniye sonra başlat
        });

</script>
